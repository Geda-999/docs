(window.webpackJsonp=window.webpackJsonp||[]).push([[299],{787:function(t,s,a){"use strict";a.r(s);var e=a(20),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#声明文件"}},[t._v("#")]),t._v(" 声明文件")]),t._v(" "),a("blockquote",[a("p",[t._v("当使用第三方库时，我们需要引用它的声明文件，才能获得对应的代码补全、接口提示等功能。")])]),t._v(" "),a("h2",{attrs:{id:"_1、声明语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、声明语句"}},[t._v("#")]),t._v(" 1、声明语句")]),t._v(" "),a("ul",[a("li",[t._v("当我们使用第三方库比如"),a("code",[t._v("jquery")]),t._v("的时候，"),a("code",[t._v("ts")]),t._v("并不知道"),a("code",[t._v("$")]),t._v("或者"),a("code",[t._v("jquery")]),t._v("是什么")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nerror "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TS2304")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Cannot find name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("ul",[a("li",[t._v("这时候我们需要使用"),a("code",[t._v("declare")]),t._v(" "),a("code",[t._v("let")]),t._v("来定义它的类型")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//正确")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//declare let并没有真正定义一个变量，只是定义了全局变量jquery的类型，仅仅用于编译时的检查，在编译结果中会被删除。")]),t._v("\ndeclare "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("selector")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("any"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h2",{attrs:{id:"_2、声明文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、声明文件"}},[t._v("#")]),t._v(" 2、声明文件")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("把声明语句放到一个单独的文件（"),a("code",[t._v("filename.d.ts")]),t._v("）中，就是声明文件。")])]),t._v(" "),a("li",[a("p",[t._v("一般常见的库都有定义好的声明文件，不需要我们自己定义。比如："),a("a",{attrs:{href:"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/jquery/index.d.ts",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("jquery")]),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("当然，最好的方式是使用"),a("code",[t._v("@types")]),t._v("统一管理第三方库的声明文件。例如：")])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm i @types/jquery -D\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("blockquote",[a("p",[t._v("所有的第三方库声明文件在这里查看 https://www.typescriptlang.org/dt/search?search=")])])])}),[],!1,null,null,null);s.default=n.exports}}]);