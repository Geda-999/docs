(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{527:function(s,t,a){"use strict";a.r(t);var n=a(20),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),a("p",[s._v("使用 Flexbox 布局时，Flex 容器难免有和所有 Flex 项目宽度总和不匹配的时候，比如说，Flex 容器有剩余空间（Flex 项目无法填满整个 Flex 容器），也有 Flex 容器空间不足的时候（Flex 项目溢出 Flex 容器）。")]),s._v(" "),a("p",[s._v("这两种情景有不同的处理方式，比如上一节课和大家聊的就是 Flex 容器有剩余空间时，如何通过扩展因子比例 "),a("code",[s._v("flex-grow")]),s._v(" 的特性来扩展 Flex 项目。而这一节课，我们主要来探讨，当 Flex 容器空间不足时，我们又是如何使用收缩因子 "),a("code",[s._v("flex-shrink")]),s._v(" 的特性，即，按照收缩比例来收缩 Flex 项目，从而让 Flex 项目也能填满整个 Flex 容器。")]),s._v(" "),a("h2",{attrs:{id:"flex-shrink-的计算"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flex-shrink-的计算"}},[s._v("#")]),s._v(" flex-shrink 的计算")]),s._v(" "),a("p",[s._v("前面我们聊的都是 "),a("code",[s._v("flex-grow")]),s._v(" 是如何计算的，接着我们来一起探计 "),a("code",[s._v("flex")]),s._v(" 属性中的 "),a("code",[s._v("flex-shrink")]),s._v(" 是如何计算的。")]),s._v(" "),a("p",[s._v("首先，"),a("code",[s._v("flex-shrink")]),s._v(" 属性所起的作用和 "),a("code",[s._v("flex-grow")]),s._v(" 刚好相反，"),a("strong",[s._v("它是在 Flex 容器出现不足空间时（就是所有 Flex 项目的宽度总和大于 Flex 容器可用空间，Flex 项目溢出了 Flex 容器），让 Flex 项目根据自身的收缩因子")]),s._v(" "),a("strong",[a("code",[s._v("flex-shrink")])]),s._v(" "),a("strong",[s._v("来缩小尺寸")]),s._v(" 。")]),s._v(" "),a("p",[s._v("还是拿前面的示例来举例，只不过，我们稍微把一些参数调整一下：")]),s._v(" "),a("div",{staticClass:"language-HTML line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- Flex 项目 A --\x3e")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("A"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("longlonglongword"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- Flex 项目 B --\x3e")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("B"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("ook"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- Flex 项目 C --\x3e")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("C"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("ountries in the east"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- Flex 项目 D --\x3e")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("D"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("iscuss"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- Flex 项目 E --\x3e")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("E"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("astern"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("inline-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1000px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1.5rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-basis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 也可以使用 width 或 inline-size 来替代 */")]),s._v("\n   \n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 等同于 */")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-grow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* flex-grow 的初始值 */")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-shrink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* flex-shrink 的初始值 */")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-basis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item span")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("font-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 3rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[s._v("这个时候所有 Flex 项目的 "),a("code",[s._v("flex-basis")]),s._v(" 值的总和 "),a("code",[s._v("1500px")]),s._v(" （即 "),a("code",[s._v("300px × 5 = 1500px")]),s._v("）大于 Flex 容器的可用空间（它的"),a("code",[s._v("inline-size")]),s._v(" ）"),a("code",[s._v("1000px")]),s._v(" 。按理说，Flex 项目是会溢出 Flex 容器的，但因为 Flex 项目的 "),a("code",[s._v("flex-shrink")]),s._v(" 初始值是 "),a("code",[s._v("1")]),s._v(" ，所以浏览器会根据 "),a("code",[s._v("flex-shrink")]),s._v(" 值对 Flex 项目按照相应的收缩因子进行收缩，让 Flex 项目填充整个 Flex 容器（Flex 项目不会溢出 Flex 容器）：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d288965a59464f7ab4f9a8805b47b311~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("p",[s._v("如果我们显式把 "),a("code",[s._v("flex-shrink")]),s._v(" 属性的默认值 "),a("code",[s._v("1")]),s._v(" 重置为 "),a("code",[s._v("0")]),s._v(" 时，你将看到的浏览器不会对 Flex 项目进行收缩，此时 Flex 项目溢出了 Flex 容器，在这个示例中这个溢出部分大约会是 "),a("code",[s._v("500px")]),s._v(" （即 "),a("code",[s._v("1500 - 1000px = 500px")]),s._v("），这个溢出部分也常称为 "),a("strong",[s._v("Flex 容器不足空间")]),s._v(" ：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a8b94a1fa1ee4e189c698957c186ea23~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("p",[a("code",[s._v("flex-shrink")]),s._v(" 的计算和 "),a("code",[s._v("flex-grow")]),s._v(" 是相似的，不同的是 "),a("strong",[a("code",[s._v("flex-grow")])]),s._v(" "),a("strong",[s._v("按扩展因子分配 Flex 容器的剩余空间，"),a("code",[s._v("flex-shrink")]),s._v("按收缩因子分配 Flex 容器的不足空间")]),s._v(" 。因此，"),a("code",[s._v("flex-shrink")]),s._v(" 的计算，也可以像 "),a("code",[s._v("flex-grow")]),s._v(" 一样：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/af9423d15df841c38649d587cef2617a~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("p",[s._v("就这个示例而言，"),a("strong",[s._v("Flex 容器的不足空间")]),s._v(" 等于 "),a("code",[s._v("500px")]),s._v(" :")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("Flex 容器不足空间 = Flex 容器可用空间 - 所有 Flex 项目的尺寸总和\n\nFlex 容器不足空间 = 1000px - 300px × 5 = -500px \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("浏览器将会循环遍历去计算每个 Flex 项目的 "),a("strong",[s._v("弹性量")]),s._v(" ，即收缩值。先来看 Flex 项目 A:")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("Flex 项目的弹性量 = Flex 容器不足空间 ÷ 所有Flex 项目的收缩值（flex-shrink总和） × 当前 Flex 项目的收缩因子（flex-shrink值）\nFlex 项目计算后的 flex-basis 值 = Flex 项目的弹性量 + Flex 项目当前的 flex-basis 值\n\nFlex 项目 A 的弹性量 = -500px ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1 + 1 + 1 + 1 + 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 1 = -100px\nFlex 项目 A 计算后的 flex-basis 值 = -100px + 300px = 200px\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("根据公式计算出来 Flex 项目 A 的 "),a("code",[s._v("flex-basis")]),s._v(" 值（其宽度）是 "),a("code",[s._v("200px")]),s._v(" ，但这个示例中，因为其内容是一个长单词，它的最小内容长度（"),a("code",[s._v("min-content")]),s._v("）大约是 "),a("code",[s._v("237.52px")]),s._v(" 。计算出来的值小于该值（"),a("code",[s._v("200px < 237.52px")]),s._v("），这个时候会取该 Flex 项目内容的最小长度值。")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("在 Flex 项目的计算中，不管是使用")]),s._v(" "),a("strong",[a("code",[s._v("flex-grow")])]),s._v(" "),a("strong",[s._v("还是")]),s._v(" "),a("strong",[a("code",[s._v("flex-shrink")])]),s._v(" "),a("strong",[s._v("对 Flex 项目进收缩扩展计算，计算出来的值不能比 Flex 项目的内容的最小长度（"),a("strong",[a("strong",[a("code",[s._v("min-content")])])]),s._v("）或内部固定元素的长度值还小")]),s._v(" 。")])]),s._v(" "),a("p",[s._v("因此，Flex 项目 A 计算之后的 "),a("code",[s._v("flex-basis")]),s._v(" 值为 "),a("code",[s._v("237.52px")]),s._v(" 。")]),s._v(" "),a("p",[s._v("接着，浏览器会按照同样的方式来计算 Flex 项目 B：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("// 计算 Flex 项目B\nFlex 容器的不足空间 = 1000px - 237.52px - "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("300px × 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" = -437.52px\n\nFlex 项目 B 的弹性量 = -437.52px ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1 + 1 + 1 + 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 1 = -109.38px\nFlex 项目 B 计算后的 flex-basis 值 = -109.38px + 300px = 190.62px\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("依此类推，就可以计算出 Flex 项目 C、Flex 项目 D 和 Flex 项目 E 的 "),a("code",[s._v("flex-basis")]),s._v(" 值：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("Flex 容器不足空间 = Flex 容器可用空间 - 所有Flex项目的尺寸总和（flex-basis 总和）\nFlex 项目的弹性量 = Flex 容器不足空间 ÷ 所有Flex项目的收缩值（flex-srhink总和）× 当前flex项目的flex-shrink\nFlex 项目计算后的flex-basis 值 = Flex项目弹性 + Flex项目初设的flex-basis值\n\n// 计算 Flex 项目 C\n\nFlex 项目 C 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 237.52px - 190.62px - "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("300px + 300px + 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1 + 1 + 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 1  = -109.38px\nFlex 项目 C 计算后的 flex-basis 值 = -109.38px + 300px = 190.62px \n\n// 计算 Flex 项目 D\nFlex 项目 D 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 237.52px - 190.62px - 190.62px - "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("300px + 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1 + 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 1  = -109.38px  \nFlex 项目 D 计算后的 flex-basis 值 = -109.38px + 300px = 190.62px \n\n// 计算 Flex 项目 E\nFlex 项目 E 的弹性值 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 237.52px - 190.62px - 190.62px - 190.62px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ 1 × 1  = -109.38px  \nFlex 项目 E 计算后的 flex-basis 值 = -109.38px + 300px = 190.62px\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/333257f715ad4653bb6e2e62827646e5~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("blockquote",[a("p",[s._v("Demo 地址：https://codepen.io/airen/full/oNdwZoZ")])]),s._v(" "),a("p",[s._v("在 CSS 中给元素设置一个尺寸时，大多数开发者还是更喜欢使用 "),a("code",[s._v("width")]),s._v(" (或 "),a("code",[s._v("inline-size")]),s._v(") ，和 "),a("code",[s._v("height")]),s._v("（或 "),a("code",[s._v("block-size")]),s._v("）属性，并不习惯使用 "),a("code",[s._v("flex-basis")]),s._v(" 给 Flex 项目设置基础尺寸。在 Flex 项目中如果未显式设置 "),a("code",[s._v("flex-basis")]),s._v(" 的值，浏览器将会采用其默认值 "),a("code",[s._v("auto")]),s._v(" 作为 "),a("code",[s._v("flex-basis")]),s._v(" 的值。比如：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("inline-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1000px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 或 inline-size: 300px */")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 等同于 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-grow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* flex-grow 初始值，不扩展 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-shrink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* flex-shrink 初始值，会收缩 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-basis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* flex-basis 初始值，未显式设置 width 或 inline-size 时，会是其 max-content */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("这个示例的 Flex 项目的 "),a("code",[s._v("flex-shrink")]),s._v(" 的计算和上一个示例（即 Flex 项目上显式设置 "),a("code",[s._v("flex-basis: 300px")]),s._v("）是一样的。这主要是因为：")]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("flex-basis")]),s._v(" 取值为 "),a("code",[s._v("auto")]),s._v(" 时，且该 Flex 项目未显式设置 "),a("code",[s._v("width")]),s._v(" 或 "),a("code",[s._v("inline-size")]),s._v(" 属性值（非"),a("code",[s._v("auto")]),s._v(" ），那么浏览器将会把 Flex 项目的内容长度作为 "),a("code",[s._v("flex-basis")]),s._v(" 的值；反之，有显式设置 "),a("code",[s._v("width")]),s._v(" 或 "),a("code",[s._v("inline-size")]),s._v(" 属性值（非"),a("code",[s._v("auto")]),s._v("），那么浏览器会把 "),a("code",[s._v("width")]),s._v(" 或 "),a("code",[s._v("inline-size")]),s._v(" 属性值作为 "),a("code",[s._v("flex-basis")]),s._v(" 的值。")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a0e240490d0463b85405aaea3c8422c~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("blockquote",[a("p",[s._v("Demo 地址： https://codepen.io/airen/full/rNvwgKm")])]),s._v(" "),a("p",[s._v("不过有一点需要特别的注意，当你在 Flex 项目同时设置了 "),a("code",[s._v("width")]),s._v(" （或 "),a("code",[s._v("inline-size")]),s._v("），且 "),a("code",[s._v("flex-basis")]),s._v(" 值为 "),a("code",[s._v("0")]),s._v(" （或任何一个非 "),a("code",[s._v("auto")]),s._v(" 的值）时，那么 "),a("code",[s._v("flex-basis")]),s._v(" 的值都会替代 "),a("code",[s._v("width")]),s._v(" 或 "),a("code",[s._v("inline-size")]),s._v(" 属性的值。比如下面这个示例：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("inline-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1000px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("inline-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-basis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* flex-basis 替代了 inline-size */")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 等同于 */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-grow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-shrink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-basis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[s._v("因为 "),a("code",[s._v("flex-basis")]),s._v(" 属性值 "),a("code",[s._v("0%")]),s._v(" 替代了"),a("code",[s._v("inline-size")]),s._v(" 属性的值作为 Flex 项目的基础尺寸，因为 "),a("code",[s._v("flex-basis")]),s._v(" 值显式设置了为 "),a("code",[s._v("0%")]),s._v(" ，这个时候浏览器会将 Flex 项目的内容最小尺寸，即 "),a("code",[s._v("min-content")]),s._v("， 作为 Flex 项目的基础尺寸。如此一来，Flex 项目就有可能不会溢出 Flex 容器了：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ceac4b8df3b748fe96a01181408aeae3~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("blockquote",[a("p",[s._v("Demo 地址： https://codepen.io/airen/full/WNJOBBw")])]),s._v(" "),a("p",[s._v("如果大家在开发过程中，碰到在 Flex 项目上设置了 "),a("code",[s._v("width")]),s._v(" ，"),a("code",[s._v("inline-size")]),s._v(" 、"),a("code",[s._v("height")]),s._v(" 或 "),a("code",[s._v("block-size")]),s._v(" 无效时，就要先排查 Flex 项目的 "),a("code",[s._v("flex-basis")]),s._v(" 是否设置了一个非"),a("code",[s._v("auto")]),s._v(" 的值，比如 "),a("code",[s._v("0")]),s._v(" 。")]),s._v(" "),a("p",[s._v("至于其中原委，这里先不聊（后面专门介绍 "),a("code",[s._v("flex-basis")]),s._v(" 课程中会有介绍）。我们接着来看 "),a("code",[s._v("flex-shrink")]),s._v(" 。")]),s._v(" "),a("p",[s._v("前面聊 "),a("code",[s._v("flex-grow")]),s._v(" 属性时，可以给其设置不同的值，浏览器在计算时，会根据不同的扩展比例来扩展 Flex 项目的尺寸。同样的，可以给 Flex 项目设置不同的 "),a("code",[s._v("flex-shrink")]),s._v(" 值，浏览器在计算时会根据不同的收缩比例来收缩 Flex 项目的尺寸。比如：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-basis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-shrink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("--flex-shrink"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item:nth-child(2)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("--flex-shrink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item:nth-child(3)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("--flex-shrink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item:nth-child(4)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("--flex-shrink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item:nth-child(5)")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("--flex-shrink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("浏览器按照相应的收缩比例对 Flex 项目进行计算，其计算过程如下：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("Flex 容器不足空间 = Flex 容器可用空间 - 所有Flex项目的尺寸总和（flex-basis 总和）\nFlex 项目的弹性量 = Flex 容器不足空间 ÷ 所有Flex项目的收缩值（flex-srhink总和）× 当前flex项目的flex-shrink\nFlex 项目计算后的flex-basis 值 = Flex项目弹性 + Flex项目初设的flex-basis值\n\n\nFlex 项目 A 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 300px - 300px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0 + 1 + 2 + 3 + 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 0  = 0px  \nFlex 项目 A 计算后的 flex-basis 值 = 0 + 300px = 300px // 不收缩  \n\nFlex 项目 B 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 300px - 300px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1 + 2 + 3 + 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 1  = -50px\nFlex 项目 B 计算后的 flex-basis 值 = -50px + 300px = 250px\n  \nFlex 项目 C 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 250px - 300px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("2 + 3 + 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 2 = -100px  \nFlex 项目 C 计算后的 flex-basis 值 = -100px + 300px = 200px\n  \nFlex 项目 D 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 250px - 200px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("3 + 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 3 = -150px  \nFlex 项目 D 计算后的 flex-basis 值 = -150px + 300px = 150px\n  \nFlex 项目 E 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 250px - 200px - 150px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ 4 × 4 = -200px  \nFlex 项目 E 计算后的 flex-basis 值 = -200px + 300px = 100px \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/11c4f496f6504753bdda25f5c2093d9c~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("blockquote",[a("p",[s._v("Demo 地址： https://codepen.io/airen/full/RwygzZN")])]),s._v(" "),a("p",[s._v("我们多次提到过，浏览器对 Flex 项目尺寸的计算是一种 "),a("strong",[s._v("循环遍历计算")]),s._v(" 模式，因为浏览器无法一次性就知道，在计算 Flex 项目尺寸时就能把所有情况都预判到。比如下面这个示例（在上一个示例的基础上，将Flex 项目 E 的文本内容“"),a("strong",[s._v("Eastern")]),s._v("”调整得更长一些，比如“Elonglonglongword” ）。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/90156594251d4e3ca7c1d61da6296b71~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("Flex 容器不足空间 = Flex 容器可用空间 - 所有Flex项目的尺寸总和（flex-basis 总和）\nFlex 项目的弹性量 = Flex 容器不足空间 ÷ 所有Flex项目的收缩值（flex-srhink总和）× 当前flex项目的flex-shrink\nFlex 项目计算后的flex-basis 值 = Flex项目弹性 + Flex项目初设的flex-basis值\n\n\nFlex 项目 A 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 300px - 300px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0 + 1 + 2 + 3 + 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 0  = 0px  \nFlex 项目 A 计算后的 flex-basis 值 = 0 + 300px = 300px // 不收缩  \n\nFlex 项目 B 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 300px - 300px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1 + 2 + 3 + 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 1  = -50px\nFlex 项目 B 计算后的 flex-basis 值 = -50px + 300px = 250px\n  \nFlex 项目 C 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 250px - 300px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("2 + 3 + 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 2 = -100px  \nFlex 项目 C 计算后的 flex-basis 值 = -100px + 300px = 200px\n  \nFlex 项目 D 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 250px - 200px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("3 + 4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 3 = -150px  \nFlex 项目 D 计算后的 flex-basis 值 = -150px + 300px = 150px\n  \nFlex 项目 E 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 250px - 200px - 150px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ 4 × 4 = -200px  \nFlex 项目 E 计算后的 flex-basis 值 = -200px + 300px = 100px \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[s._v("按照公式计算出来的 Flex 项目 E 的 "),a("code",[s._v("flex-basis")]),s._v(" 尺寸是 "),a("code",[s._v("100px")]),s._v(" ，它小于 Flex 项目 E 的内容最小尺寸（"),a("code",[s._v("min-content")]),s._v("），大约 "),a("code",[s._v("233.38px")]),s._v("。因为 Flex 项目收缩不会小于其最小内容尺寸（也就是不会小于 "),a("code",[s._v("233.38px")]),s._v(" ）。这个时候 Flex 容器的不足空间也随之产生了变化：")]),s._v(" "),a("ul",[a("li",[s._v("Flex 项目 A 的 "),a("code",[s._v("flex-shrink")]),s._v(" 值等于 "),a("code",[s._v("0")]),s._v(" ，它不做任何收缩，因此它的宽度就是 "),a("code",[s._v("flex-basis")]),s._v(" 初设的值，即 "),a("code",[s._v("300px")]),s._v(" 。")]),s._v(" "),a("li",[s._v("Flex 项目 E 计算之后的 "),a("code",[s._v("flex-basis")]),s._v(" 值小于 "),a("code",[s._v("min-content")]),s._v(" ，因此，它的 "),a("code",[s._v("flex-basis")]),s._v(" 的值是 "),a("code",[s._v("min-content")]),s._v(" ，在该例中大约是 "),a("code",[s._v("233.38px")]),s._v("。")])]),s._v(" "),a("p",[s._v("这样一来，Flex 容器的不足空间就是：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("Flex 容器的不足空间 = 1000px - 300px - 233.38px - 300px - 300px - 300px = -433.38px\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("即，大约 "),a("code",[s._v("433.38px")]),s._v(" 的不足空间再次按收缩因子的比例划分给 Flex 项目 B ("),a("code",[s._v("flex-shrink: 1")]),s._v(")、Flex 项目 C （"),a("code",[s._v("flex-shrink: 2")]),s._v("） 和 Flex 项目 D ("),a("code",[s._v("flex-shrink: 3")]),s._v(")。也就是说，Flex 项目 A 和 Flex 项目 E 不再参与第二次的计算了：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("Flex 项目 B 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 233.38px - 300px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1 + 2 + 3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 1 = -72.23px\nFlex 项目 B 计算后的 flex-basis 值 = -72.23px + 300px = 227.77px\n\nFlex 项目 C 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 233.38px - 227.77px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("2 + 3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 2 = -144.46px\nFlex 项目 C 计算后的 flex-basis 值 = -144.46px + 300px = 155.54px\n\nFlex 项目 D 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 233.38px - 227.77px - 155.54px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ 3 × 3 = -216.69px\nFlex 项目 D 计算后的 flex-basis 值 = -216.69px + 300px = 83.31px \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("不幸的是，浏览器在进行第二轮计算的时候，又碰到了 Flex 项目 D 计算出来的 "),a("code",[s._v("flex-basis")]),s._v(" 值 "),a("code",[s._v("83.31px")]),s._v(" ，它也小于它内容的最小长度（"),a("code",[s._v("min-content")]),s._v("），大约 "),a("code",[s._v("100.69px")]),s._v(" 。它也不能再做任何收缩。因此，浏览器需要再做第三轮计算，即 Flex 项目 B 和 Flex 项目 C 接着重新计算：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("Flex 容器不足空间 = 1000px - 300px - 233.38px - 100.69px - 300px - 300px = -234.07px\n\nFlex 项目 B 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 233.38px - 100.69px - 300px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1 + 2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" × 1 = -78.02px\nFlex 项目 B 计算后的 flex-basis 值 = -78.02px + 300px = 221.98px\n\nFlex 项目 C 的弹性量 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("1000px - 300px - 233.38px - 100.69px - 221.98px - 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ÷ 2 × 2 = -156.05px\nFlex 项目 C 计算后的 flex-basis 值 = -156.05px + 300px = 143.95px\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("如果计算出来的 Flex 项目 C 的 "),a("code",[s._v("flex-basis")]),s._v(" 值还是小于其 "),a("code",[s._v("min-content")]),s._v(" 的话，浏览器将会进行第四轮的计算，直到符合条件为止。所幸，我们这个示例第三轮计算就符合条件了。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7c50156e58b1406ea53a8be34dc24ba5~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("blockquote",[a("p",[s._v("Demo 地址： https://codepen.io/airen/full/qBYjeJq")])]),s._v(" "),a("p",[a("code",[s._v("flex-shrink")]),s._v(" 的使用还有一点和 "),a("code",[s._v("flex-grow")]),s._v(" 类似，也可以在 "),a("code",[s._v("flex-shrink")]),s._v(" 设置小于 "),a("code",[s._v("1")]),s._v(" 的正整数。比如：")]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".container")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" flex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("inline-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1000px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".item")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v("flex-shrink")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" .1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("计算公式也是类似的：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1652f17c80bd4b0498c91dd81bdbc85c~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-CSS line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[s._v("Flex 项目的 flex-shrink 总和 =  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0.1 + 0.1 + 0.1 + 0.1 + 0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" = 0.5 < 1\nFlex 项目的灵活性 = "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Flex 容器的不足空间  × 当前 Flex 项目自身的扩展因子 flex-shrink\nFlex 容器的剩余空间 = 1000px - 300px - 300px - 300px - 300px - 300px = -500px\n\nFlex 项目 A 的弹性值 = -500px × 0.1 = -50px\nFlex 项目 A 计算后的 flex-basis 值 = -50px + 300px = 250px\n\nFlex 项目 B 的弹性值 = -500px × 0.1 = -50px\nFlex 项目 B 计算后的 flex-basis 值 = -50px + 300px = 250px\n\nFlex 项目 C 的弹性值 = -500px × 0.1 = -50px\nFlex 项目 C 计算后的 flex-basis 值 = -50px + 300px = 250px\n\nFlex 项目 D 的弹性值 = -500px × 0.1 = -50px\nFlex 项目 D 计算后的 flex-basis 值 = -50px + 300px = 250px\n\nFlex 项目 E 的弹性值 =  -500px × 0.1 = -50px\nFlex 项目 E 计算后的 flex-basis 值 = -50px + 300px = 250px\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0db27a3c273f4a4099c5f2f534fc4e7d~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("blockquote",[a("p",[s._v("Demo 地址：https://codepen.io/airen/full/qBYXWQY")])]),s._v(" "),a("p",[s._v("如上图所示，当所有 Flex 项目的 "),a("code",[s._v("flex-shrink")]),s._v(" 属性值的总和小于 "),a("code",[s._v("1")]),s._v(" 时，Flex 容器的不足空间是分配不完的，Flex 项目依旧会溢出 Flex 容器。")]),s._v(" "),a("p",[s._v("如此一来，"),a("code",[s._v("flex-shrink")]),s._v(" 的计算公式也分两种情景：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e2c5933377f9485b95254066e7422643~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("p",[s._v("另外，就 "),a("code",[s._v("flex-shrink")]),s._v(" 计算，当所有 Flex 项目的 "),a("code",[s._v("flex-shrink")]),s._v(" 值的总和大于 "),a("code",[s._v("1")]),s._v(" 时，还可以使用下面这个公式来计算:")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac195b17c58e4693b8c800e1f65df5b9~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),a("p",[s._v("不知道大家在这些示例中有没有发现过，"),a("code",[s._v("flex-shrink")]),s._v(" 和 "),a("code",[s._v("flex-grow")]),s._v(" 在计算时所运用的公式和过程都几乎是一样的，不同之处就是：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("flex-grow")]),s._v(" 按比例分配 Flex 容器剩余空间，Flex 项目会按比例变大，但不会造成 Flex 项目溢出 Flex 容器（除非所有 Flex 项目自身的最小内容总和就大于 Flex 容器空间）。")]),s._v(" "),a("li",[a("code",[s._v("flex-shrink")]),s._v(" 按比例分配 Flex 容器不足空间，Flex 项目会按比例变小，但 Flex 项目仍然有可能溢出 Flex 容器。")]),s._v(" "),a("li",[s._v("当 "),a("code",[s._v("flex-grow")]),s._v(" 属性值总和小于 "),a("code",[s._v("1")]),s._v(" 时，Flex 容器的剩余空间分不完；同样的，当 "),a("code",[s._v("flex-shrink")]),s._v(" 属性值总和小于 "),a("code",[s._v("1")]),s._v(" 时，Flex 容器的不足空间分不完。")])]),s._v(" "),a("p",[s._v("另外，"),a("code",[s._v("flex-shrink")]),s._v(" 有一点和 "),a("code",[s._v("flex-grow")]),s._v(" 完全不同，如果某个 Flex 项目按照 "),a("code",[s._v("flex-shrink")]),s._v(" 计算出来的新宽度（"),a("code",[s._v("flex-basis")]),s._v("）趋向于 "),a("code",[s._v("0")]),s._v(" 或小于 Flex 项目内容的最小长度（"),a("code",[s._v("min-content")]),s._v("）时，Flex 项目将会按照该元素的 "),a("code",[s._v("min-content")]),s._v(" 或其内部固定宽度的元素尺寸设置 "),a("code",[s._v("flex-basis")]),s._v(" 新的值，同时这个宽度将会转嫁到其他 Flex 项目，浏览器会按照相应的收缩因子重新对 Flex 项目进行计算，直到符合条件为止。")]),s._v(" "),a("p",[s._v("简单地说，"),a("strong",[s._v("在 Flexbox 布局当中，"),a("code",[s._v("flex-shrink")])]),s._v(" "),a("strong",[s._v("会阻止 Flex 项目宽度缩小至")]),s._v(" "),a("strong",[a("code",[s._v("0")])]),s._v("。此时 Flex 项目会以 "),a("strong",[a("code",[s._v("min-content")])]),s._v(" "),a("strong",[s._v("的大小进行计算")]),s._v("。这也是为什么在所有 Flex 项目显式设置 "),a("code",[s._v("flex:1")]),s._v(" 不一定能让所有 Flex 项目宽度相等，或者说均分列的主要原因之一。")]),s._v(" "),a("p",[s._v("现在，基于前面课程提到的 Flex 容器的对齐属性、Flex 项目中的 "),a("code",[s._v("flex-shrink")]),s._v(" 和 "),a("code",[s._v("flex-grow")]),s._v(" 计算等知识，就可以很好地处理 Flex 容器的剩余空间和不足空间：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("Flex 容器有剩余空间")]),s._v(" （所有 Flex 项目的宽度总和小于 Flex 容器的宽度），如果设置了 "),a("code",[s._v("flex-grow")]),s._v(" ，Flex 项目会根据扩展因子分配 Flex 容器剩余空间；在未设置 "),a("code",[s._v("flex-grow")]),s._v(" 时，就看在 Flex 容器中是否设置了对齐方式，如果是，那么会按对齐方式分配 Flex 容器剩余空间，如果不是，Flex 容器剩余空间不变 。")]),s._v(" "),a("li",[a("strong",[s._v("Flex 容器有不足空间")]),s._v(" （所有 Flex 项目的宽度总和大于 Flex 容器的宽度），如果设置了 "),a("code",[s._v("flex-shrink")]),s._v(" 值为 "),a("code",[s._v("0")]),s._v(" ，Flex 项目不会收缩，Flex 项目溢出 Flex 容器；如果未显式设置 "),a("code",[s._v("flex-shrink")]),s._v(" 值，Flex 项目会平均分配 Flex 容器不足空间，Flex 项目会变窄（Flex 项目的 "),a("code",[s._v("flex-shrink")]),s._v(" 的默认值为 "),a("code",[s._v("1")]),s._v(" ），如果显式设置了 "),a("code",[s._v("flex-shrink")]),s._v(" 的值为非 "),a("code",[s._v("0")]),s._v(" 的不同值，那么 Flex 项目会按照不同的收缩因子分配 Flex 容器不足空间，Flex 项目同样会变窄。")])]),s._v(" "),a("p",[s._v("具体的我们可以绘制一张这方面的流程图：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cebbaa0a1e1046a9bcb6b285159a7b2c~tplv-k3u1fbpfcp-zoom-1.image",alt:"img"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);